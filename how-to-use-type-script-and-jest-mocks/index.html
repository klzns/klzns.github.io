<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.8b1cc9920e75fff049f7.css">@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:300;src:local("Open Sans Light "),local("Open Sans-Light"),url(/static/open-sans-latin-300-60c866748ff15f5b347fdba64596b1b1.woff2) format("woff2"),url(/static/open-sans-latin-300-521d17bc9f3526c690e8ada6eee55bec.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:300;src:local("Open Sans Light italic"),local("Open Sans-Lightitalic"),url(/static/open-sans-latin-300italic-06bbd3188b34820cd83a0e0b3d0a6f57.woff2) format("woff2"),url(/static/open-sans-latin-300italic-8a648ff38ded89ea15916e84529d62d3.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:400;src:local("Open Sans Regular "),local("Open Sans-Regular"),url(/static/open-sans-latin-400-cffb686d7d2f4682df8342bd4d276e09.woff2) format("woff2"),url(/static/open-sans-latin-400-bf2d0783515b7d75c35bde69e01b3135.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:400;src:local("Open Sans Regular italic"),local("Open Sans-Regularitalic"),url(/static/open-sans-latin-400italic-987032ea5d57c93d8da215678eae3b86.woff2) format("woff2"),url(/static/open-sans-latin-400italic-db70d0b9cb27ada1a260a2b35e756b8b.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:600;src:local("Open Sans SemiBold "),local("Open Sans-SemiBold"),url(/static/open-sans-latin-600-223a277bd88d8a90c8cdf24cda0ad5f5.woff2) format("woff2"),url(/static/open-sans-latin-600-1cd5320f8937d337b61d5117cf9d7b28.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:600;src:local("Open Sans SemiBold italic"),local("Open Sans-SemiBolditalic"),url(/static/open-sans-latin-600italic-4950a7205f0b5cefe41fc03ac346e236.woff2) format("woff2"),url(/static/open-sans-latin-600italic-318ea1ada4102c0704a0637228dcad03.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:700;src:local("Open Sans Bold "),local("Open Sans-Bold"),url(/static/open-sans-latin-700-d08c09f2f169f4a6edbcf8b8d1636cb4.woff2) format("woff2"),url(/static/open-sans-latin-700-623e3205570002af47fc2b88f9335d19.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:700;src:local("Open Sans Bold italic"),local("Open Sans-Bolditalic"),url(/static/open-sans-latin-700italic-c02f5da6e82e1efe0b45841bfd49ce37.woff2) format("woff2"),url(/static/open-sans-latin-700italic-72e19cbb0e38c6773a7751156752cec4.woff) format("woff")}@font-face{font-family:Open Sans;font-style:normal;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold "),local("Open Sans-ExtraBold"),url(/static/open-sans-latin-800-aaeffaf205b9bbb09920089a14dbe9e8.woff2) format("woff2"),url(/static/open-sans-latin-800-c6aa0c4a601fb6ac66f8253fa594dff5.woff) format("woff")}@font-face{font-family:Open Sans;font-style:italic;font-display:swap;font-weight:800;src:local("Open Sans ExtraBold italic"),local("Open Sans-ExtraBolditalic"),url(/static/open-sans-latin-800italic-6b3973ffe02bb6a8be0f8453506ec032.woff2) format("woff2"),url(/static/open-sans-latin-800italic-79b58175343190550489efe46a7f1138.woff) format("woff")}</style><meta name="generator" content="Gatsby 2.13.7"/><title data-react-helmet="true">How to use TypeScript and Jest mocks | Breno Calazans</title><meta data-react-helmet="true" name="description" content="It&#x27;s pretty common to mock modules in Jest. When using TypeScript that might be a bit harder because they are not automatically resolved by…"/><meta data-react-helmet="true" name="image" content="https://klzns.github.io"/><meta data-react-helmet="true" name="gatsby-starter" content="Gatsby Starter Minimal Blog"/><meta data-react-helmet="true" property="og:locale" content="en_US"/><meta data-react-helmet="true" property="og:site_name" content=""/><meta data-react-helmet="true" property="og:url" content="https://klzns.github.io/how-to-use-type-script-and-jest-mocks"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="How to use TypeScript and Jest mocks | Breno Calazans"/><meta data-react-helmet="true" property="og:description" content="It&#x27;s pretty common to mock modules in Jest. When using TypeScript that might be a bit harder because they are not automatically resolved by…"/><meta data-react-helmet="true" property="og:image" content="https://klzns.github.io"/><meta data-react-helmet="true" property="og:image:alt" content="It&#x27;s pretty common to mock modules in Jest. When using TypeScript that might be a bit harder because they are not automatically resolved by…"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@klzns"/><meta data-react-helmet="true" name="twitter:title" content="How to use TypeScript and Jest mocks | Breno Calazans"/><meta data-react-helmet="true" name="twitter:url" content="https://klzns.github.io"/><meta data-react-helmet="true" name="twitter:description" content="It&#x27;s pretty common to mock modules in Jest. When using TypeScript that might be a bit harder because they are not automatically resolved by…"/><meta data-react-helmet="true" name="twitter:image" content="https://klzns.github.io"/><meta data-react-helmet="true" name="twitter:image:alt" content="It&#x27;s pretty common to mock modules in Jest. When using TypeScript that might be a bit harder because they are not automatically resolved by…"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"Article","author":{"@type":"Person","name":"Breno Calazans"},"copyrightHolder":{"@type":"Person","name":"Breno Calazans"},"copyrightYear":"2019-07-10T01:05:35.281Z","creator":{"@type":"Person","name":"Breno Calazans"},"publisher":{"@type":"Organization","name":"Breno Calazans","logo":{"@type":"ImageObject","url":"https://klzns.github.io"}},"datePublished":"2019-07-10T01:05:35.281Z","dateModified":"2019-07-10T04:16:03.814Z","description":"It's pretty common to mock modules in Jest. When using TypeScript that might be a bit harder because they are not automatically resolved by…","headline":"How to use TypeScript and Jest mocks | Breno Calazans","inLanguage":"en","url":"https://klzns.github.io/how-to-use-type-script-and-jest-mocks","name":"How to use TypeScript and Jest mocks | Breno Calazans","image":{"@type":"ImageObject","url":"https://klzns.github.io"},"mainEntityOfPage":"https://klzns.github.io/how-to-use-type-script-and-jest-mocks"}</script><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"BreadcrumbList","description":"Breadcrumbs list","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","item":{"@id":"https://klzns.github.io","name":"Homepage"},"position":1},{"@type":"ListItem","item":{"@id":"https://klzns.github.io/contact","name":"Contact"},"position":2},{"@type":"ListItem","item":{"@id":"https://klzns.github.io/how-to-use-type-script-and-jest-mocks","name":"How to use TypeScript and Jest mocks | Breno Calazans"},"position":3}]}</script><style data-styled="gPRBxf prroi fbjlSh eqFwqB bUzoff crCQDN dhYgZF jeMjDM jvYvRj kkUQaA coragR tODfF" data-styled-version="4.3.2">
/* sc-component-id: Code__Wrapper-sc-186twod-1 */
.crCQDN{overflow:auto;margin-bottom:1rem;} .crCQDN .prism-code{padding:0.75rem;border-radius:5px;font-size:16px;}
/* sc-component-id: Code__Pre-sc-186twod-2 */
.dhYgZF{float:left;min-width:100%;overflow:initial;}
/* sc-component-id: Code___StyledSpan-sc-186twod-3 */
.jeMjDM{display:inline-block;width:2em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;}
/* sc-component-id: Subline-sc-2pjf43-0 */
.eqFwqB{font-size:0.9rem;color:rgba(0,0,0,0.5);}
/* sc-component-id: Header__Avatar-sc-1uevezl-0 */
.prroi{border-radius:100%;width:3.5rem;height:3.5rem;margin-right:1rem;}
/* sc-component-id: sc-global-14659636 */
*,*:before,*:after{box-sizing:inherit;} html,body{padding:0;margin:0;} ::selection{color:#fffafa;background:#6c2ed0;} html{font-family:'Open Sans',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Helvetica','Arial',sans-serif;font-size:18px;} html h1{font-size:2.5rem;} html h2{font-size:2.0rem;} html h3{font-size:1.853rem;} html h4{font-size:1.563rem;} html h5{font-size:1.25rem;} @media (max-width:600px){html{font-size:16px;}html h1{font-size:2.488rem;}html h2{font-size:2.074rem;}html h3{font-size:1.728rem;}html h4{font-size:1.444rem;}html h5{font-size:1.2rem;}} body{background:#fffafa;color:rgba(0,0,0,0.7);} a{color:#6c2ed0;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 0.5s;transition:all 0.5s;} a:hover{color:#7b42d5;} a:not([href]):not([tabindex]){color:inherit;-webkit-text-decoration:none;text-decoration:none;} a:not([href]):not([tabindex]):hover,a:not([href]):not([tabindex]):focus{color:inherit;-webkit-text-decoration:none;text-decoration:none;} a:not([href]):not([tabindex]):focus{outline:0;} h1,h2,h3,h4,h5,h6{color:rgba(0,0,0,0.9);font-family:'Bitter',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Helvetica','Arial',serif;} blockquote{font-style:italic;position:relative;} blockquote:before{content:"";position:absolute;background:#6c2ed0;height:100%;width:6px;margin-left:-1.6rem;} label{margin-bottom:.5rem;color:rgba(0,0,0,0.9);} input,textarea,button{font-size:1rem;} textarea{font-family:'Open Sans',-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Helvetica','Arial',sans-serif;} input,textarea{border-radius:.5rem;border:none;background:rgba(0,0,0,0.05);padding:.4rem 1rem;} input:focus,textarea:focus{outline:none;} pre{margin:0;white-space:pre;line-height:1.55rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;} figure{margin:0 0 1rem 0;} img{vertical-align:middle;} [role='button']{cursor:pointer;} a,area,button,[role='button'],input,label,select,summary,textarea{touch-action:manipulation;} table{border-collapse:collapse;background-color:#fffafa;} caption{padding-top:1.5rem;padding-bottom:1.5rem;text-align:center;caption-side:bottom;} th{text-align:left;} fieldset{min-width:0;padding:0;margin:0;border:0;} legend{display:block;width:100%;padding:0;margin-bottom:0.5rem;font-size:1.5rem;line-height:inherit;} input[type='search']{-webkit-appearance:none;} output{display:inline-block;} svg:not(:root){overflow:hidden;vertical-align:middle;} code{background-color:rgba(255,229,100,0.2);padding:.15em .2em .05em;border-radius:.3em;white-space:normal;} [hidden]{display:none !important;} .highlight-line{background-color:rgba(201,167,255,0.2);margin:0 -10px;padding:0 5px;border-left:5px solid #c9a7ff;}
/* sc-component-id: Layout__Footer-sc-6xzn7e-0 */
.tODfF{text-align:center;padding:3rem 1rem;} .tODfF span{font-size:0.75rem;}
/* sc-component-id: PrevNext__Wrapper-sc-5pxgbz-0 */
.coragR{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;margin:6rem auto 0 auto;justify-items:center;} .coragR a{color:#6c2ed0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}
/* sc-component-id: Wrapper-sc-1v6sncg-0 */
.gPRBxf{max-width:650px;margin:0 auto;padding-top:2.6rem;} @media (max-width:1200px){.gPRBxf{padding:3rem 3rem;}} @media (max-width:600px){.gPRBxf{padding:2rem 1.3rem;}} .gPRBxf p{font-size:1.1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.58;--baseline-multiplier:0.179;--x-height-multiplier:0.35;} @media (max-width:600px){.gPRBxf p{font-size:1rem;}}
/* sc-component-id: post__Title-lq4eaz-0 */
.fbjlSh{margin-bottom:1rem;}
/* sc-component-id: post__PostContent-lq4eaz-1 */
.bUzoff{margin-top:4rem;}
/* sc-component-id: post___StyledP-lq4eaz-2 */
.jvYvRj{text-align:right;}
/* sc-component-id: post___StyledSpan-lq4eaz-3 */
.kkUQaA{margin-left:10px;margin-right:10px;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#6c2ed0"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=dbcaf7ee1fd319cce0cee3142325174e"/><link as="script" rel="preload" href="/component---src-templates-post-js-830c8352db85dbcf445c.js"/><link as="script" rel="preload" href="/0-3972dd394a839c58bdf3.js"/><link as="script" rel="preload" href="/app-24e86174b3a7e2c77751.js"/><link as="script" rel="preload" href="/styles-6d05393073627ea98ec5.js"/><link as="script" rel="preload" href="/webpack-runtime-739b9cdbb452b4feac86.js"/><link as="fetch" rel="preload" href="/page-data\how-to-use-type-script-and-jest-mocks\page-data.json" crossorigin="use-credentials"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="Wrapper-sc-1v6sncg-0 gPRBxf"><header><a href="/"><img src="/social/avatar.jpg" class="Header__Avatar-sc-1uevezl-0 prroi"/>Breno Calazans</a></header><article><h1 class="post__Title-lq4eaz-0 fbjlSh">How to use TypeScript and Jest mocks</h1><div class="Subline-sc-2pjf43-0 eqFwqB">2019-07-10<!-- --> — <!-- -->1<!-- --> Min Read — In<!-- --> <a href="/categories/jest">Jest</a>, <a href="/categories/type-script">TypeScript</a></div><div class="post__PostContent-lq4eaz-1 bUzoff"><p>It&#x27;s pretty common to mock modules in Jest. When using TypeScript that might be a bit harder because they are not automatically resolved by TypeScript.</p><p>Let&#x27;s say we are using a function <code>useFooContext</code> from a module called <code>foo</code>:</p><div class="Code__Wrapper-sc-186twod-1 crCQDN"><pre class="prism-code language-ts Code__Pre-sc-186twod-2 dhYgZF" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// foo.d.ts</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">declare</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">module</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;foo&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">3</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">interface</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 139)">FooContext</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">4</span><span class="token plain">    bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">number</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">5</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">6</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">7</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useFooContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token maybe-class-name">FooContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">8</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre></div><p>So we create a mock of the module <code>foo</code> in the <code>__mocks__</code> folder:</p><div class="Code__Wrapper-sc-186twod-1 crCQDN"><pre class="prism-code language-ts Code__Pre-sc-186twod-2 dhYgZF" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// __mocks__/foo.ts</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">export</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> useFooContext </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> jest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">fn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p>And finally, create our test file using mocked <code>foo</code>:</p><div class="Code__Wrapper-sc-186twod-1 crCQDN"><pre class="prism-code language-ts Code__Pre-sc-186twod-2 dhYgZF" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// index.test.ts</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> useFooContext </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">3</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">4</span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sample test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">5</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Error: Property &#x27;mockImplementation&#x27; does not exist on type &#x27;() =&gt; FooContext&#x27;.ts(2339)</span><span class="token plain"></span></div><div class="token-line highlight-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">6</span><span class="token plain">  useFooContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">mockImplementation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">7</span><span class="token plain">    bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">123</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">8</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">9</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">10</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> context </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useFooContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">11</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">12</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">expect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toBe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">123</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">13</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><blockquote><p>Property &#x27;mockImplementation&#x27; does not exist on type &#x27;() =&gt; FooContext&#x27;.ts(2339)</p></blockquote><p>TypeScript throws an error since it doesn&#x27;t resolve mock files as Jest does. It expects <code>useFooContext</code> to have the type defined in its definition.</p><h3 id="solution"><a href="#solution" aria-label="solution permalink" class="anchor"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Solution</h3><p>We should hint TypeScript that the function imported is in fact a jest mock function.</p><div class="Code__Wrapper-sc-186twod-1 crCQDN"><pre class="prism-code language-ts Code__Pre-sc-186twod-2 dhYgZF" style="color:#d6deeb;background-color:#011627"><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">2</span><span class="token plain">  useFooContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">3</span><span class="token plain">  </span><span class="token maybe-class-name">FooContext</span><span class="token plain"> </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Get the type returned by `useFooContext`</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;foo&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">5</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">6</span><span class="token plain"></span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// Create a new variable and type it as jest.Mock passing the type</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">7</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> mockedUseFooContext </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> useFooContext </span><span class="token keyword" style="color:rgb(127, 219, 202)">as</span><span class="token plain"> jest</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access maybe-class-name">Mock</span><span class="token operator" style="color:rgb(127, 219, 202)">&lt;</span><span class="token maybe-class-name">FooContext</span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">8</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">9</span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">test</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;sample test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">10</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// TypeScript will type check the value returned by the mock implementation 💯</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">11</span><span class="token plain">  mockedUseFooContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">mockImplementation</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">12</span><span class="token plain">    bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;mocked return for this test&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">13</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">14</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">15</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> context </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mockedUseFooContext</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">16</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">17</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">expect</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">bar</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">toBe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">123</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="Code___StyledSpan-sc-186twod-3 jeMjDM">18</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p>I hope that&#x27;s helpful!</p></div></article><p class="post___StyledP-lq4eaz-2 jvYvRj"><a target="_blank" rel="noopener noreferrer" href="https://mobile.twitter.com/search?q=https%3A%2F%2Fklzns.github.io%2Fhow-to-use-type-script-and-jest-mocks">Discuss on Twitter</a><span class="post___StyledSpan-lq4eaz-3 kkUQaA"> • </span><a target="_blank" rel="noopener noreferrer" href="https://github.com/klzns/klzns.github.io/edit/source/blog/2019-07-10/index.mdx">Edit post on GitHub</a></p><div class="PrevNext__Wrapper-sc-5pxgbz-0 coragR"></div></div><footer class="Layout__Footer-sc-6xzn7e-0 tODfF"><code>EOF</code></footer></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-143581029-1', 'auto', {});
      
      
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/how-to-use-type-script-and-jest-mocks";window.webpackCompilationHash="6b264892067f4516d7fe";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-24e86174b3a7e2c77751.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-b571589f65c5336bf638.js"],"component---src-templates-post-js":["/component---src-templates-post-js-830c8352db85dbcf445c.js"],"component---src-templates-category-js":["/component---src-templates-category-js-bba40cfd5fb9f011664d.js"],"component---src-pages-categories-js":["/component---src-pages-categories-js-2d7a69d258d071f0fc8c.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-20a0202789815e771454.js"],"component---src-pages-index-js":["/component---src-pages-index-js-d00db057f5eca339e4a3.js"],"component---src-pages-success-js":["/component---src-pages-success-js-b95b6f7753ad8c1abb9b.js"]};/*]]>*/</script><script src="/webpack-runtime-739b9cdbb452b4feac86.js" async=""></script><script src="/styles-6d05393073627ea98ec5.js" async=""></script><script src="/app-24e86174b3a7e2c77751.js" async=""></script><script src="/0-3972dd394a839c58bdf3.js" async=""></script><script src="/component---src-templates-post-js-830c8352db85dbcf445c.js" async=""></script></body></html>